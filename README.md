![logo](misc/grappa-logo.png)

\[Original image courtesy of [clipartbest.com](www.clipartbest.com/clipart-Kin5EMyiq)\]

## What this is

This package allows you to write grammars (more precisely, parsing expression grammars, or
[PEG](http://en.wikipedia.org/wiki/Parsing_expression_grammar) for short) entirely in Java. Unlike,
for instance, ANTLR and JavaCC, parsers written with this package do **not** require a
pre-processing phase. Yes, this means you generate your parsers at _runtime_. And there is no DSL.
Pure Java!

License is Apache 2.0. See [here](https://github.com/parboiled1/project-info) for further
information.

## Motivation

This is a fork of the original [parboiled](https://github.com/sirthias/parboiled). Its author,
[Matthias Doenitz](https://github.com/sirthias), has since left the Java world for the Scala world
(with [parboiled2](https://github.com/sirthias/parboiled2)).

But parboiled does not deserve to be left stranded, nor its users. It is just
too good. No other package allows you to write grammars entirely in Java... And
what is more, it performs really well. This package is therefore dedicated to
continuing its development.

Grappa requires Java 6 or later.

### And, uh, the name?

Well, you write _gra_mmars and can then generate _pa_rsers for them. (I also happen to like the
[drink of the same name](http://www.istitutograppa.org/))

## How it differs from parboiled

At this moment:

* no Scala support anymore;
* build system has been switched from sbt to [gradle](http://gradle.org);
* generated bytecode is now 1.6 (was 1.5);
* possibility to obtain the bytecode of a generated parser;
* one bug fixed (see [here](https://github.com/parboiled1/parboiled-core/issues/1).

In version 2.x, package names will change; they will not change however for versions 1.x.

## Example grammar

Here is a very simple grammar to match double quoted strings:

```java
@BuildParseTree
public class DoubleQuotedString
    extends BaseParser<Void>
{
    Rule Normal()
    {
        return NoneOf("\\\"");
    }

    Rule Special()
    {
        return String("\\\"");
    }

    Rule NSN()
    {
        return Sequence(
            ZeroOrMore(Normal()),
            ZeroOrMore(Special(), ZeroOrMore(Normal()))
        );
    }

    Rule DoubleQuotedString()
    {
        return Sequence('"', NSN(), '"', EOI);
    }
}
```

## How to build

You will need a JDK 6 or 7. **Note that for the moment, Java 8 does not work**. Then use this
command to build and install into your local repository:

```
# Unix systems: Linux, MacOSX, *BSD
./gradlew clean test install
# Windows systems
gradlew.bat clean test install
```

